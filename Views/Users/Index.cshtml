@model IEnumerable<EBookStore.Site.Models.ViewModels.UserIndexVM>

@{
    ViewBag.Title = "會員列表";

    var criteria = ViewBag.Criteria as EBookStore.Site.Models.ViewModels.UserCriteria;
}

@section cdn{
    <link href="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <link href="~/vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
}
<div class="mb-3" style="display: flex; align-items: center; text-align: left;">
    <h2 class="m-3" style="padding-left: 10px; margin-right: 20px;">會員列表</h2>
    @*<button class="btn btn-outline-primary" type="button" onclick="location.href='@Url.Action("Create")'">Create New</button>*@
</div>

@*<p>
    @Html.ActionLink("Create New", "Create")
</p>*@

<div class="text-start mb-1">
    <section class="container mb-4" style="padding-left: 10px; margin-left: 0px;">
        <form method="get">
            <div class="row">
                <div class="mb-3 col-md-2">
                    <label for="s_name" style="margin-left: 15px; margin-right: 30px;" >姓名</label>
                    <input type="text" class="form-control" name="name" id="s_name" value="@criteria.Name"  style="margin-left: 15px; margin-right: 30px;">
                </div>

                <div class="mb-3 col-md-3">
                    <label for="s_address">地址</label>
                    <input type="text" class="form-control" name="address" id="s_address" value="@criteria.Address">
                </div>

                <div class="mb-3 col-md-2 align-self-end">
                    <button class="btn btn-primary">搜尋</button>
                </div>
            </div>
        </form>
    </section>
</div>

    <table id="dataTable" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Account)
                </th>
                @*<th>
                        @Html.DisplayNameFor(model => model.Password)
                    </th>*@
                <th>
                    @Html.DisplayNameFor(model => model.Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Phone)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AddressText)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.GenderText)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Photo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CreatedTime)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.IsConfirmedText)
                </th>
                @*<th>
                        @Html.DisplayNameFor(model => model.ConfirmCode)
                    </th>*@
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Account)
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.Password)
                        </td>*@
                    <td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AddressText)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.GenderText)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Photo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CreatedTime)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IsConfirmedText)
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.ConfirmCode)
                        </td>*@
                    @*<td>
                            @Html.ActionLink("編輯", "Edit", new { id = item.Id }) |
                            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
                            @Html.ActionLink("刪除", "Delete", new { id = item.Id })
                        </td>*@
                    <td>
                        <div class="btn-group" role="group">
                            <a href="@Url.Action("Edit", new { id = item.Id })" class="btn btn-primary">編輯</a>
                            <a href="@Url.Action("Delete", new { id = item.Id })" class="btn btn-danger">刪除</a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>



    @section scripts{
        @Scripts.Render("~/bundles/jquery")

        <script src="~/Scripts/vendor/datatables/jquery.dataTables.min.js"></script>
        <script src="~/Scripts/vendor/datatables/dataTables.bootstrap4.min.js"></script>

        <script>
            $(document).ready(function () {
                $("#dataTable").DataTable({
                    "paging": true,
                    "searching": false,
                    "fixedHeader": false,
                    "lengthMenu": [25, 50, 75, 100, 125, 150, 175, 200],
                    "autoWidth": true,
                    "ordering": true,
                    "language": {
                        "searchPlaceholder": "關鍵字搜尋",
                        "emptyTable": "無資料...",
                        "processing": "處理中...",
                        "loadingRecords": "載入中...",
                        "lengthMenu": "每頁顯示比數 _MENU_ ",
                        "zeroRecords": "無搜尋結果",
                        "info": "第 _START_ 筆 至 第 _END_筆 / 共 _TOTAL_ 筆",
                        "infoEmpty": "尚無資料",
                        "infoFiltered": "(從 _MAX_ 筆資料過濾)",
                        "infoPostFix": "",
                        "search": "",
                        "oPaginate": {
                            "sFirst": "首頁",
                            "sPrevious": "上一頁",
                            "sNext": "下一頁",
                            "sLast": "末頁"
                        }
                    }
                });
            });
        </script>
    }
